!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("d3/build/d3")):"function"==typeof define&&define.amd?define(["d3/build/d3"],e):"object"==typeof exports?exports.mapd3=e(require("d3/build/d3")):t.mapd3=e(t["d3/build/d3"])}("undefined"!=typeof self?self:this,function(t){return function(t){function e(r){if(n[r])return n[r].exports;var a=n[r]={i:r,l:!1,exports:{}};return t[r].call(a.exports,a,a.exports,e),a.l=!0,a.exports}var n={};return e.m=t,e.c=n,e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:r})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=15)}([function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(16);n.n(r);n.o(r,"axisBottom")&&n.d(e,"axisBottom",function(){return r.axisBottom}),n.o(r,"axisLeft")&&n.d(e,"axisLeft",function(){return r.axisLeft}),n.o(r,"axisRight")&&n.d(e,"axisRight",function(){return r.axisRight}),n.o(r,"timeParse")&&n.d(e,"timeParse",function(){return r.timeParse}),n.o(r,"timeFormat")&&n.d(e,"timeFormat",function(){return r.timeFormat}),n.o(r,"utcFormat")&&n.d(e,"utcFormat",function(){return r.utcFormat}),n.o(r,"format")&&n.d(e,"format",function(){return r.format}),n.o(r,"formatPrefix")&&n.d(e,"formatPrefix",function(){return r.formatPrefix}),n.o(r,"bisector")&&n.d(e,"bisector",function(){return r.bisector}),n.o(r,"extent")&&n.d(e,"extent",function(){return r.extent}),n.o(r,"sum")&&n.d(e,"sum",function(){return r.sum}),n.o(r,"range")&&n.d(e,"range",function(){return r.range}),n.o(r,"merge")&&n.d(e,"merge",function(){return r.merge}),n.o(r,"nest")&&n.d(e,"nest",function(){return r.nest}),n.o(r,"dispatch")&&n.d(e,"dispatch",function(){return r.dispatch}),n.o(r,"easeLinear")&&n.d(e,"easeLinear",function(){return r.easeLinear}),n.o(r,"easeQuadInOut")&&n.d(e,"easeQuadInOut",function(){return r.easeQuadInOut}),n.o(r,"select")&&n.d(e,"select",function(){return r.select}),n.o(r,"mouse")&&n.d(e,"mouse",function(){return r.mouse}),n.o(r,"event")&&n.d(e,"event",function(){return r.event}),n.o(r,"transition")&&n.d(e,"transition",function(){return r.transition}),n.o(r,"randomUniform")&&n.d(e,"randomUniform",function(){return r.randomUniform}),n.o(r,"randomNormal")&&n.d(e,"randomNormal",function(){return r.randomNormal}),n.o(r,"timeDay")&&n.d(e,"timeDay",function(){return r.timeDay}),n.o(r,"timeMonth")&&n.d(e,"timeMonth",function(){return r.timeMonth}),n.o(r,"timeSecond")&&n.d(e,"timeSecond",function(){return r.timeSecond}),n.o(r,"timeMinute")&&n.d(e,"timeMinute",function(){return r.timeMinute}),n.o(r,"timeHour")&&n.d(e,"timeHour",function(){return r.timeHour}),n.o(r,"timeWeek")&&n.d(e,"timeWeek",function(){return r.timeWeek}),n.o(r,"timeYear")&&n.d(e,"timeYear",function(){return r.timeYear}),n.o(r,"utcYear")&&n.d(e,"utcYear",function(){return r.utcYear}),n.o(r,"utcDay")&&n.d(e,"utcDay",function(){return r.utcDay}),n.o(r,"area")&&n.d(e,"area",function(){return r.area}),n.o(r,"curveCatmullRom")&&n.d(e,"curveCatmullRom",function(){return r.curveCatmullRom}),n.o(r,"line")&&n.d(e,"line",function(){return r.line}),n.o(r,"stack")&&n.d(e,"stack",function(){return r.stack}),n.o(r,"stackOffsetNone")&&n.d(e,"stackOffsetNone",function(){return r.stackOffsetNone}),n.o(r,"stackOrderNone")&&n.d(e,"stackOrderNone",function(){return r.stackOrderNone}),n.o(r,"scaleTime")&&n.d(e,"scaleTime",function(){return r.scaleTime}),n.o(r,"scalePoint")&&n.d(e,"scalePoint",function(){return r.scalePoint}),n.o(r,"scaleBand")&&n.d(e,"scaleBand",function(){return r.scaleBand}),n.o(r,"scaleLinear")&&n.d(e,"scaleLinear",function(){return r.scaleLinear}),n.o(r,"scaleOrdinal")&&n.d(e,"scaleOrdinal",function(){return r.scaleOrdinal}),n.o(r,"symbol")&&n.d(e,"symbol",function(){return r.symbol}),n.o(r,"symbolTriangle")&&n.d(e,"symbolTriangle",function(){return r.symbolTriangle}),n.o(r,"brushX")&&n.d(e,"brushX",function(){return r.brushX})},function(t,e,n){"use strict";function r(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}function a(t){return JSON.parse(JSON.stringify(t))}function i(t,e){var n=a(t);return"time"===e?(n.forEach(function(t){t[b.h.KEY]=new Date(t[b.h.KEY])}),n.sort(function(t,e){return t[b.h.KEY].getTime()-e[b.h.KEY].getTime()})):"string"===e?n.sort(function(t,e){return t[b.h.KEY].localeCompare(e[b.h.KEY],"en",{numeric:!1})}):n.sort(function(t,e){return t[b.h.KEY]-e[b.h.KEY]}),n}function o(t,e){var n={};t.forEach(function(t){n[t]=null});var r=Object.keys(n);return"time"===e?r.map(function(t){return new Date(t)}):r}function l(t,e,n){if("time"===n||"number"===n)return t.invert(e);var r=Math.round(e/t.step()-.5);return t.domain()[r]}function u(t,e){var n={};for(var r in t)t.hasOwnProperty(r)&&(n[r]=r in e?e[r]:t[r]);return n}function c(t,e){var n=!1,r=null;return function(){for(var a=arguments.length,i=Array(a),o=0;o<a;o++)i[o]=arguments[o];n||(n=!0,clearTimeout(r),r=setTimeout(function(){n=!1,t.apply(void 0,i)},e))}}function s(t){return function(){for(var e=arguments.length,n=Array(e),a=0;a<e;a++)n[a]=arguments[a];return t.on.apply(t,[n[0]+".rebind"].concat(r(n.slice(1)))),this}}function d(t,e){var n=t;return"time"===e?n=v.timeParse("%m-%d-%Y")(t):"number"===e&&(n=Number(t)),n}function h(t){return Number(parseFloat(t))==t}function f(t){return Number(parseFloat(t))===t}function m(t){return t&&t.length&&2===t.filter(function(t){return!isNaN(t.valueOf())&&void 0!==t&&null!==t}).length}function y(){return"id-"+Math.random().toString(36).substr(2,16)}function p(t){return function(e,n){return e[t]<n[t]?-1:e[t]>n[t]?1:0}}function g(t){return function(e,n){return n[t]<e[t]?-1:n[t]>e[t]?1:0}}function x(t,e){return Math.min(Math.max(e[0],t),e[1])}e.c=a,e.l=i,e.f=o,e.g=l,e.j=u,e.n=c,e.k=s,e.m=d,e.h=h,e.i=f,e.e=m,e.o=y,e.a=p,e.d=g,e.b=x;var b=n(2),v=n(0)},function(t,e,n){"use strict";n.d(e,"h",function(){return r}),n.d(e,"g",function(){return a}),n.d(e,"a",function(){return i}),n.d(e,"d",function(){return o}),n.d(e,"f",function(){return l}),n.d(e,"c",function(){return u}),n.d(e,"b",function(){return c}),n.d(e,"e",function(){return s});var r={KEY:"key",VALUE:"value",ID:"id",LABEL:"label",GROUP:"group",VALUES:"values",SERIES:"series"},a={ALL:"all",NONE:"none",ISOLATED:"isolated"},i="0",o="1",l={dashes:"4, 3",solid:null,dotted:"1 4"},u=20,c=200,s={TOTAL_ASCENDING:"totalAscending",TOTAL_DESCENDING:"totalDescending",ALPHA_ASCENDING:"alphaAscending",ALPHA_DESCENDING:"alphaDescending"}},function(t,e,n){"use strict";function r(t,e){return a(t,e,{toggleOffIsEnabled:!1,toggleMultipleIsEnabled:!1})}function a(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{toggleOffIsEnabled:!1,toggleMultipleIsEnabled:!1},r=!1;t.classed("selected",function(){var t=this.classList.contains("selected"),a=this===e.node(),i=!1;return i=a?!n.toggleOffIsEnabled||!t:!!n.toggleMultipleIsEnabled&&t,r=r||i,i}),t.classed("dimmed",function(){return r&&!this.classList.contains("selected")})}function i(t){t.on("keypress.enter",function(){"Enter"===o.event.key&&this.blur()})}e.c=r,e.a=i;var o=n(0)},function(t,e,n){"use strict";function r(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}function a(t){function e(){if(!R.root){R.root=R.container.append("div").attr("class",M?"legend-group":"tooltip-group").style("position","absolute");var t=R.root.append("div").attr("class","tooltip-panel");R.tooltipTitleSection=t.append("div").attr("class","tooltip-title-section"),R.tooltipTitle=R.tooltipTitleSection.append("div").attr("class","tooltip-title"),R.tooltipBody=t.append("div").attr("class","tooltip-body"),M?(R.tooltipTitleSection.append("div").attr("class","tooltip-collapse").html("â†—"),R.tooltipTitleSection.on("click",function(){f(this.classList.toggle("collapsed"))})):R.root.style("pointer-events","none"),F.tooltipIsEnabled||g()}M&&(R.root.style("max-height",F.chartHeight),F.tooltipIsEnabled?x():g())}function n(t,e){var n=R.root.node().getBoundingClientRect(),r=t,a=4,i=e+F.margin.top-n.height/2;return t>F.chartWidth/2&&(a=-n.width-4),[r+a,i]}function a(){var t="auto"===R.xPosition?F.chartWidth:R.xPosition,e="auto"===R.yPosition?F.margin.top:R.yPosition;return R.root.style("top",e+"px").style("left",function(){var e="auto"===R.xPosition?this.getBoundingClientRect().width:0;return t+F.margin.left-e+"px"}),M&&R.root.style("max-height",F.chartHeight+"px"),this}function s(t,e){return"function"==typeof e?e(t):"string"==typeof e&&"auto"!==e?i.format(e)(t):Object(u.d)(t)}function d(t,e){var n=I.measureNameLookup(e);return"function"==typeof F.tooltipFormat&&F.tooltipFormat(null,n)?F.tooltipFormat(t,n):Object(u.d)(t)}function h(){var t=R.tooltipBody.selectAll(".tooltip-item").data(R.content),e=t.enter().append("div").attr("class","tooltip-item").merge(t);t.exit().remove();var n=e.selectAll(".section").data(function(t){var e=[{key:"tooltip-color",value:I.colorScale(t[o.h.ID]),style:I.styleScale(t[o.h.ID])}];if(void 0!==t[o.h.LABEL]&&e.push({key:"tooltip-label",value:t[o.h.LABEL]}),void 0!==t[o.h.VALUE]){var n=t[o.h.VALUE],r=d(n,t.id);e.push({key:"value",value:r})}return e});return n.enter().append("div").merge(n).attr("class",function(t){return["section",t.key].join(" ")}).each(function(t){var e=i.select(this);if("tooltip-color"===t.key){var n=e.html("<svg></svg>").select("svg").attr("width",12).attr("height",12);"line"===F.chartType?n.append("line").attr("x1",0).attr("y1",6).attr("x2",12).attr("y2",6).attr("stroke",t.value).attr("stroke-width",2.5).attr("stroke-dasharray",function(t){return o.f[t.style]}):n.append("rect").attr("x",0).attr("y",0).attr("width",12).attr("height",12).style("fill",t.value)}else e.html(t.value)}),n.exit().remove(),this}function f(t){return t?(R.tooltipTitle.html("Legend"),R.tooltipBody.style("display","none"),a()):(m(),R.tooltipBody.style("display","block"),a()),this}function m(){var t=F.tooltipTitle||R.title;if("function"==typeof F.tooltipTitleFormat&&"string"!=typeof t)t=F.tooltipTitleFormat(t);else if(t instanceof Date){var e=F,n=e.binningResolution,r=u.b[n];t="auto"!==F.tooltipTitleFormat?i.utcFormat(F.tooltipTitleFormat)(t):r?i.utcFormat(r)(t):["1w","1q","10y","1c"].indexOf(n)>-1?Object(u.c)(n,t):i.utcFormat(F.dateFormat)(t)}else Object(l.i)(t)&&(t=Number(parseFloat(t)),t=F.tooltipTitleFormat?s(t,F.tooltipTitleFormat):Object(u.d)(t));return R.tooltipTitle.html(t),this}function y(t){return R.content=p(t),this}function p(t){return[].concat(r(t)).sort(function(t,e){return e[o.h.VALUE]-t[o.h.VALUE]})}function g(){return R.root?(R.root.style("display","none"),this):null}function x(){return R.root&&F.tooltipIsEnabled?(R.root.style("display","block"),this):null}function b(t,r,a,i){e();var u=n(i,a),s=c(u,2),d=s[0],h=s[1];E(d),T(h);var f=t[o.h.KEY];return Object(l.h)(f)&&(f=Number(parseFloat(f))),A(f),y(t[o.h.SERIES]),D(),this}function v(t){return t.on("mouseOverPanel.tooltip",x).on("mouseMovePanel.tooltip",b).on("mouseOutPanel.tooltip",g),this}function k(t){return F=Object(l.j)(F,t),this}function S(t){return I=Object(l.j)(I,t),this}function A(t){return R.title=t,this}function E(t){return R.xPosition=t,this}function T(t){return R.yPosition=t,this}function O(t){return R.content=t,this}function D(){return e(),m(),h(),a(),this}function L(){return R.root&&(R.root.remove(),R.root=null),this}var M=arguments.length>1&&void 0!==arguments[1]&&arguments[1],F={margin:{top:2,right:2,bottom:2,left:2},width:250,height:45,dateFormat:"%b %d, %Y",tooltipIsEnabled:!0,tooltipTitle:null,binningResolution:null,binningIsAuto:null,chartType:null,colorSchema:["skyblue"],keyType:"time",tooltipFormat:null,tooltipTitleFormat:null,markPanelWidth:null,chartWidth:null,chartHeight:null},I={colorScale:null,styleScale:null,measureNameLookup:null},R={container:t,root:null,tooltipDivider:null,tooltipBody:null,tooltipTitle:null,tooltipBackground:null,xPosition:null,yPosition:null,content:null,title:null};return{bindEvents:v,setXPosition:E,setYPosition:T,setContent:O,setTitle:A,hide:g,show:x,render:D,setConfig:k,setScales:S,destroy:L}}e.a=a;var i=n(0),o=n(2),l=n(1),u=n(6),c=function(){function t(t,e){var n=[],r=!0,a=!1,i=void 0;try{for(var o,l=t[Symbol.iterator]();!(r=(o=l.next()).done)&&(n.push(o.value),!e||n.length!==e);r=!0);}catch(t){a=!0,i=t}finally{try{!r&&l.return&&l.return()}finally{if(a)throw i}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}()},function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r={skyBlue:"#22A7F0"},a=["#ea5545","#bdcf32","#b33dc6","#ef9b20","#87bc45","#f46a9b","#ace5c7","#ede15b","#836dc5","#86d87f","#27aeef"],i=["#F8F8FA","#EFF2F5","#D2D6DF","#C3C6CF","#ADB0B6","#666A73","#45494E","#363A43","#282C35"],o={mapdUI:r,mapdColors:a,grey:i}},function(t,e,n){"use strict";function r(t){switch(t){case"isodow":return function(t){return c[t-1]};case"month":return function(t){return s[t-1]};case"quarter":return function(t){return d[t-1]};case"hour":return function(t){return h[t]};case"minute":return function(t){return t+1};default:return function(t){return t}}}function a(t,e){var n=t[1],r=t[0];return n-r<=.02?".4f":n-r<=.2?".3f":n-r<=1.1?".2f":n-r<100?".1f":n-r<1e3?".0f":".2s"}function i(t){return(u.timeSecond(t)<t?f:u.timeMinute(t)<t?m:u.timeHour(t)<t?y:u.timeDay(t)<t?p:u.timeMonth(t)<t?u.timeWeek(t)<t?g:x:u.timeYear(t)<t?b:v)(t)}function o(t,e){switch(t){case"1w":return u.utcFormat("%b %d")(e)+" - "+u.utcFormat("%b %d,")(u.utcDay.offset(e,6));case"1c":return u.utcFormat("%Y")(e)+" - "+u.utcFormat("%Y")(u.utcYear.offset(e,99));case"10y":return u.utcFormat("%Y")(e)+" - "+u.utcFormat("%Y")(u.utcYear.offset(e,9));case"1q":var n=u.utcFormat("%m")(e);return"Q"+Math.floor((parseInt(n,10)+3)/3)+" "+u.utcFormat("%Y")(e);default:return e}}function l(t){return null===t?"null":u.format(",")(Math.round(100*t)/100)}e.e=r,e.a=a,e.f=i,e.c=o,n.d(e,"b",function(){return k}),e.d=l;var u=n(0),c=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],s=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],d=["Q1","Q2","Q3","Q4"],h=["12AM","1AM","2AM","3AM","4AM","5AM","6AM","7AM","8AM","9AM","10AM","11AM","12PM","1PM","2PM","3PM","4PM","5PM","6PM","7PM","8PM","9PM","10PM","11PM"],f=u.timeFormat(".%L"),m=u.timeFormat(":%S"),y=u.timeFormat("%I:%M"),p=u.timeFormat("%I %p"),g=u.timeFormat("%a %d"),x=u.timeFormat("%b %d"),b=u.timeFormat("%b"),v=u.timeFormat("%Y"),k={"1y":"%Y","1mo":"%b %Y","1s":"%b %d, %Y %H:%M:%S","1m":"%b %d, %Y %H:%M","1h":"%b %d, %Y %H:%M","1d":"%b %d, %Y"}},function(t,e,n){"use strict";function r(t){function e(t){return i.legendComponent.setConfig(t).setConfig({tooltipIsEnabled:t.legendIsEnabled}).setTitle(t.legendTitle).setXPosition(t.legendXPosition).setYPosition(t.legendYPosition),this}function n(t){return i.legendComponent.setScales(t),this}function r(t){var e=t.dataBySeries.map(function(t){return{id:t.id,key:t.key,label:t.label}});return i.legendComponent.setContent(e).render(),this}var i={legendComponent:Object(a.a)(t,!0)};return{setConfig:e,setScales:n,setData:r}}e.a=r;var a=n(4)},function(t,e,n){"use strict";function r(t){function e(){b.root||(b.root=b.container.append("g").classed("brush-group",!0),b.brush=a.brushX().on("start",u).on("brush",c).on("end",s))}function n(){b.brush.extent([[0,0],[g.markPanelWidth,g.chartHeight]]),b.chartBrush=b.root.call(b.brush),b.chartBrush.selectAll(".brush-rect").attr("height",g.chartHeight),l()}function r(){return a.event.selection.map(function(t){return Object(i.g)(x.xScale,t,g.keyType)})}function o(t){return"time"===g.keyType?[new Date(Object(i.b)(new Date(g.brushRangeMin),t)),new Date(Object(i.b)(new Date(g.brushRangeMax),t))]:[Object(i.b)(g.brushRangeMin,t),Object(i.b)(g.brushRangeMax,t)]}function l(){var t=x.xScale.domain(),e=o(t);return Object(i.e)(e)&&b.root.call(b.brush.move,e.map(function(t){return x.xScale(t)})),this}function u(){a.event.sourceEvent&&a.event.selection&&k.call("brushStart",this,r(),g)}function c(){a.event.sourceEvent&&a.event.selection&&k.call("brushMove",this,r(),g)}function s(){if(a.event.sourceEvent){if(!a.event.selection)return void k.call("brushClear",this,g);var t=r();k.call("brushEnd",this,t,g)}}function d(){return k.on.apply(k,arguments),this}function h(t){return g=Object(i.j)(g,t),this}function f(t){return x=Object(i.j)(x,t),this}function m(t){return v=Object.assign({},v,t),this}function y(){return g.brushIsEnabled||p(),g.brushIsEnabled&&e(),g.brushIsEnabled&&v.dataBySeries&&n(),this}function p(){return b.root&&(b.root.remove(),b.root=null),this}var g={margin:{top:60,right:30,bottom:40,left:70},width:800,height:500,keyType:null,brushRangeMin:null,brushRangeMax:null,brushIsEnabled:!0,markPanelWidth:null,chartHeight:null},x={xScale:null},b={container:t,dateRange:[null,null],brush:null,chartBrush:null,handle:null},v={dataBySeries:null},k=a.dispatch("brushStart","brushMove","brushEnd","brushClear");return{on:d,setConfig:h,setData:m,setScales:f,render:y,destroy:p}}e.a=r;var a=n(0),i=n(1)},function(t,e,n){"use strict";function r(t){function e(){k.root||(k.root=k.container.append("g").classed("hover-group",!0).style("pointer-events","none"))}function n(t,n){e(),isNaN(n)||(h(n),d(),"stackedLine"===b.chartType||"stackedArea"===b.chartType||"stackedBar"===b.chartType?s(t):u(t),A.call("hover",this,t))}function r(){return k.root?(k.root.style("display","block"),this):null}function l(){return k.root?(k.root.style("display","none"),this):null}function u(t){c(t[i.h.SERIES])}function c(t){var e=k.root.selectAll(".dot").data(t);e.enter().append("circle").attr("class","dot").merge(e).attr("cy",function(t){var e=S.groupKeys[i.a];return e&&e.indexOf(t.group)>-1?v.yScale(t.value):v.y2Scale?v.y2Scale(t.value):v.yScale(t.value)}).attr("r",b.dotRadius).style("stroke","none").style("fill",E).classed("hidden",function(t){return null===t[i.h.VALUE]}),e.exit().remove()}function s(t){var e={key:t[i.h.KEY]};t.series.forEach(function(t){var n=t[i.h.ID];e[n]=t[i.h.VALUE]}),c(S.stack([e]).map(function(t){var e={};return e.value=t[0][1],e.group=t.key,e}))}function d(){var t=k.root.selectAll("line").data([0]);t.enter().append("line").classed("vertical-marker",!0).merge(t).attr("y1",0).attr("y2",b.chartHeight),t.exit().remove()}function h(t){k.root.attr("transform","translate("+[t,0]+")")}function f(t){return t.on("mouseOverPanel.hover",r).on("mouseMovePanel.hover",n).on("mouseOutPanel.hover",l),this}function m(){return A.on.apply(A,arguments),this}function y(t){return b=Object(o.j)(b,t),this}function p(t){return v=Object(o.j)(v,t),this}function g(t){return S=Object.assign({},S,t),this}function x(){return k.root&&(k.root.remove(),k.root=null),this}var b={margin:{top:60,right:30,bottom:40,left:70},width:800,height:500,dotRadius:null,chartType:null,chartWidth:null,chartHeight:null},v={yScale:null,y2Scale:null,hasSecondAxis:null,colorScale:null},k={container:t,svg:null,dateRange:[null,null],brush:null,chartBrush:null,handle:null,data:null,isEnabled:!0},S={stack:null,groupKeys:null},A=a.dispatch("hover"),E=function(t){return v.colorScale(t[i.h.ID])};return{setConfig:y,setScales:p,setData:g,bindEvents:f,highlightDataPoints:u,highlightStackedDataPoints:s,drawVerticalMarker:d,moveVerticalMarker:h,on:m,destroy:x}}e.a=r;var a=n(0),i=n(2),o=n(1)},function(t,e,n){"use strict";function r(t){function e(){h.root||(h.root=h.container.append("div").attr("class","binning-group").style("float","left").style("padding-top","12px").style("padding-left","12px"),h.label=h.root.append("div").attr("class","bin-label").text(d.label),h.autoItem=h.root.append("div").attr("class","item item-auto toggleOnOff").on("click.select",function(){var t=this.classList.contains("selected"),e=!t;f.call("change",this,{name:d.autoLabel,isSelected:e})}).text(d.autoLabel)),n(d.binningToggles);h.root.style("top",d.margin.top-20+"px").style("left",d.margin.left+"px"),r(d.binningResolution),o(d.binningIsAuto)}function n(t){h.binningItems=h.root.selectAll(".toggleExclusive").data(t),h.binningItems.enter().append("div").on("click.select",function(t){var e=this.classList.contains("selected");f.call("change",this,{name:t,isSelected:e})}).merge(h.binningItems).attr("class",function(t){return"item item-"+t+" toggleExclusive"}).text(function(t){return t}),h.binningItems.exit().remove()}function r(t){t&&Object(i.c)(h.binningItems,h.root.select(".item-"+t))}function o(t){h.autoItem.classed("selected",t).classed("dimmed",!t)}function l(){return d.binningIsEnabled?e():s(),this}function u(){return f.on.apply(f,arguments),this}function c(t){return d=Object.assign({},d,t),this}function s(){return h.root&&(h.root.remove(),h.root=null),this}var d={margin:{top:60,right:30,bottom:40,left:70},autoLabel:"auto",binningToggles:[],label:"BIN:",binningIsAuto:!1,binningResolution:"1mo",binningIsEnabled:!0},h={container:t,root:null,autoItem:null,binningItems:null,isEnabled:!0},f=a.dispatch("change");return{on:u,setConfig:c,render:l,destroy:s}}e.a=r;var a=n(0),i=n(3)},function(t,e,n){"use strict";function r(t){function e(){var t="auto"===x.xDomain?v.xScale.domain():x.xDomain,e="auto"===x.yDomain&&v.yScale?v.yScale.domain():x.yDomain,f="auto"===x.y2Domain&&v.y2Scale?v.y2Scale.domain():x.y2Domain,m=null,y=null,p=null,g=null,S=null,A=null,E=function(t){return t};"time"===x.keyType?E=a.utcFormat(x.inputDateFormat):"number"===x.keyType&&(E=a.format(x.numberFormat));var T=a.format(x.numberFormat),O=a.format(x.numberFormat);b.root||(b.root=b.container.append("div").attr("class","domain-input-group").style("position","absolute").style("top",0),b.xHitZone=b.root.append("div").attr("class","hit-zone x").style("pointer-events","all").style("position","absolute").on("mouseover.dispatch",d).on("mouseout.dispatch",h),b.yHitZone=b.root.append("div").attr("class","hit-zone y").style("pointer-events","all").style("position","absolute").on("mouseover.dispatch",l).on("mouseout.dispatch",u),b.y2HitZone=b.root.append("div").attr("class","hit-zone y2").style("pointer-events","all").style("position","absolute").on("mouseover.dispatch",c).on("mouseout.dispatch",s),b.yMaxInput=b.yHitZone.append("div").attr("class","domain-input y max").style("position","absolute").attr("contentEditable",!0).on("focus",function(){y=this.innerText}).on("blur",function(){var t=this.innerText,e=v.yScale.domain();n(t,"number")&&r(t,e,"max")?(y=t,k.call("domainChange",this,{axis:"y",extent:[e[0],Number(t)]})):this.innerText=y}).call(o.a),b.yMinInput=b.yHitZone.append("div").attr("class","domain-input y min").style("position","absolute").attr("contentEditable",!0).on("focus",function(){m=this.innerText}).on("blur",function(){var t=this.innerText,e=v.yScale.domain();n(t,"number")&&r(t,e,"min")?(m=t,k.call("domainChange",this,{axis:"y",extent:[Number(t),e[1]]})):this.innerText=m}).call(o.a),b.yLockIcon=b.yHitZone.append("div").attr("class","domain-lock y").style("position","absolute").on("click",function(){var t=this.classList.contains("locked");this.classList.toggle("locked",!t);var e=v.yScale.domain();k.call("domainLockToggle",this,{isLocked:!t,axis:"y",extent:e})}),b.y2MaxInput=b.y2HitZone.append("div").attr("class","domain-input y2 max").style("position","absolute").attr("contentEditable",!0).on("focus",function(){A=this.innerText}).on("blur",function(){var t=this.innerText,e=v.y2Scale.domain();n(t,"number")&&r(t,e,"max")?(A=t,k.call("domainChange",this,{axis:"y2",extent:[e[0],Number(t)]})):this.innerText=A}).call(o.a),b.y2MinInput=b.y2HitZone.append("div").attr("class","domain-input y2 min").style("position","absolute").attr("contentEditable",!0).on("focus",function(){S=this.innerText}).on("blur",function(){var t=this.innerText,e=v.y2Scale.domain();n(t,"number")&&r(t,e,"min")?(S=t,k.call("domainChange",this,{axis:"y2",extent:[Number(t),e[1]]})):this.innerText=S}).call(o.a),b.y2LockIcon=b.y2HitZone.append("div").attr("class","domain-lock y2").style("position","absolute").on("click",function(){var t=this.classList.contains("locked");this.classList.toggle("locked",!t);var e=v.y2Scale.domain();k.call("domainLockToggle",this,{isLocked:!t,axis:"y2",extent:e})}),b.xMinInput=b.xHitZone.append("div").attr("class","domain-input x min").style("position","absolute").attr("contentEditable",!0).on("focus",function(){p=this.innerText}).on("blur",function(){var t=this.innerText,e=v.xScale.domain();if(n(t,x.keyType)&&r(t,e,"min",x.keyType)){var a=Object(i.m)(t,x.keyType);p=t,k.call("domainChange",this,{axis:"x",extent:[a,e[1]]})}else this.innerText=p}).call(o.a),b.xMaxInput=b.xHitZone.append("div").attr("class","domain-input x max").style("position","absolute").attr("contentEditable",!0).on("focus",function(){g=this.innerText}).on("blur",function(){var t=this.innerText,e=v.xScale.domain();if(n(t,x.keyType)&&r(t,e,"max",x.keyType)){var a=Object(i.m)(this.innerText,x.keyType);g=t,k.call("domainChange",this,{axis:"x",extent:[e[0],a]})}else this.innerText=g}).call(o.a),b.xLockIcon=b.xHitZone.append("div").attr("class","domain-lock x").style("position","absolute").on("click",function(){var t=this.classList.contains("locked");this.classList.toggle("locked",!t);var e=v.xScale.domain();k.call("domainLockToggle",this,{isLocked:!t,axis:"x",extent:e})}),u(),s(),h()),x.xDomainEditorIsEnabled?(b.xHitZone.style("display","block"),b.xHitZone.style("width",x.chartWidth+12+"px").style("height","40px").style("top",x.margin.top+x.chartHeight+"px").style("left",x.margin.left+"px").style("display","block"),b.xMinInput.style("top","4px").style("left","0px").text(E(t[0])),b.xMaxInput.style("top","4px").style("right","12px").text(E(t[1])),b.xLockIcon.classed("locked",x.xLock).style("width","12px").style("height","12px").style("right","0px")):b.xHitZone.style("display","none"),x.yDomainEditorIsEnabled?(b.yHitZone.style("display","block"),b.yHitZone.style("width","40px").style("height",x.chartHeight+12+"px").style("top",x.margin.top-12+"px").style("left",x.margin.left-40+"px").style("display","block"),b.yMaxInput.style("top","12px").style("right","0px").text(T(e[1])),b.yMinInput.style("top",x.chartHeight+12-12+"px").style("right","0px").text(T(e[0])),b.yLockIcon.classed("locked",x.yLock).style("width","12px").style("height","12px").style("left","28px").style("top","0px")):b.yHitZone.style("display","none"),x.y2DomainEditorIsEnabled?(b.y2HitZone.style("display","block"),b.y2HitZone.style("width","40px").style("height",x.chartHeight+12+"px").style("top",x.margin.top-12+"px").style("left",x.margin.left+x.chartWidth+"px"),b.y2MaxInput.style("top","12px").style("left","4px").text(O(f[1])),b.y2MinInput.style("top",x.chartHeight+12-12+"px").style("left","4px").text(O(f[0])),b.y2LockIcon.classed("locked",x.y2Lock).style("width","12px").style("height","12px").style("top","0px")):b.y2HitZone.style("display","none")}function n(t,e){if("time"===e){var n=a.timeParse(x.inputDateFormat)(t);return Boolean(n)}return!isNaN(t)}function r(t,e,n,r){var i=t;return"time"===r&&(i=a.timeParse(x.inputDateFormat)(t)),"min"===n?i<=e[1]:i>=e[0]}function l(){b.yHitZone.style("opacity","1")}function u(){b.yHitZone.style("opacity","0")}function c(){b.y2HitZone.style("opacity","1")}function s(){b.y2HitZone.style("opacity","0")}function d(){b.xHitZone.style("opacity","1")}function h(){b.xHitZone.style("opacity","0")}function f(){return k.on.apply(k,arguments),this}function m(t){return v=Object(i.j)(v,t),this}function y(t){return x=Object(i.j)(x,t),this}function p(){return x.xDomainEditorIsEnabled||x.yDomainEditorIsEnabled||x.y2DomainEditorIsEnabled?e():g(),this}function g(){return b.root&&(b.root.remove(),b.root=null),this}var x={margin:{top:60,right:30,bottom:40,left:70},width:800,height:500,keyType:null,inputDateFormat:"%m-%d-%Y",numberFormat:".2f",xDomain:"auto",yDomain:"auto",y2Domain:"auto",xLock:!1,yLock:!1,y2Lock:!1,xDomainEditorIsEnabled:!0,yDomainEditorIsEnabled:!0,y2DomainEditorIsEnabled:!0,chartWidth:null,chartHeight:null},b={container:t,root:null,xHitZone:null,yHitZone:null,y2HitZone:null,yMaxInput:null,yMinInput:null,yLockIcon:null,y2MaxInput:null,y2MinInput:null,y2LockIcon:null,xMinInput:null,xMaxInput:null,xLockIcon:null},v={xScale:null,yScale:null,y2Scale:null,hasSecondAxis:null},k=a.dispatch("domainChange","domainLockToggle");return{on:f,setScales:m,setConfig:y,render:p,destroy:g}}e.a=r;var a=n(0),i=n(1),o=n(3)},function(t,e,n){"use strict";function r(t){function e(t){return function(){var e=t.text(),n=a.timeParse(d.dateFormat)(e);n instanceof Date&&(e=a.timeFormat("%m-%d-%Y")(n),t.text(e))}}function n(){if(!h.root){h.root=h.container.append("div").attr("class","brush-range-input-group").style("top",0).style("padding-top","12px"),h.inputMax=h.root.append("div").attr("class","brush-range-input max").attr("contentEditable",!0);var t=e(h.inputMax);h.inputMax.on("focus",t).on("blur",function(){var t=f.xScale.domain(),e=h.rangeMin||t[0],n=h.rangeMax||t[1],r=Object(i.m)(h.inputMax.text(),d.keyType);if(r!==h.rangeMax)if(r>e)h.rangeMax=r,m.call("rangeChange",this,{extent:[e,h.rangeMax]});else{var o=n instanceof Date?a.utcFormat(d.dateFormat)(n):n;h.inputMax.text(o)}}).call(o.a).style("float","right"),h.root.append("div").attr("class","separator").text("-").style("float","right"),h.inputMin=h.root.append("div").attr("class","brush-range-input min").attr("contentEditable",!0);var n=e(h.inputMin);h.inputMin.on("focus",n).on("blur",function(){var t=f.xScale.domain(),e=h.rangeMax||t[1],n=h.rangeMin||t[0],r=Object(i.m)(h.inputMin.text(),d.keyType);if(r!==h.rangeMin)if(r<e)h.rangeMin=r,m.call("rangeChange",this,{extent:[h.rangeMin,e]});else{var o=n instanceof Date?a.utcFormat(d.dateFormat)(n):n;h.inputMin.text(o)}}).call(o.a).style("float","right")}var r=f.xScale.domain();if(Object(i.e)(r)){var l=null===d.brushRangeMin?r[0]:d.brushRangeMin,u=null===d.brushRangeMax?r[1]:d.brushRangeMax;if("time"===d.keyType){var c=a.utcFormat(d.dateFormat);h.rangeMin=new Date(l),h.rangeMax=new Date(u),l=c(new Date(l)),u=c(new Date(u))}else{var s=a.format(d.numberFormat);h.rangeMin=l,h.rangeMax=u,l=s(l),u=s(u)}h.inputMin.text(l),h.inputMax.text(u)}else h.inputMin.text(""),h.inputMax.text("")}function r(){return m.on.apply(m,arguments),this}function l(t){return d=Object(i.j)(d,t),this}function u(t){return f=Object(i.j)(f,t),this}function c(){return d.brushRangeIsEnabled?n():s(),this}function s(){return h.root&&(h.root.remove(),h.root=null),this}var d={keyType:"time",dateFormat:"%b %d, %Y",numberFormat:".2f",brushRangeIsEnabled:!0,brushRangeMin:null,brushRangeMax:null},h={container:t,root:null,inputMin:null,inputMax:null},f={xScale:null},m=a.dispatch("rangeChange");return{on:r,setConfig:l,render:c,setScales:u}}e.a=r;var a=n(0),i=n(1),o=n(3)},function(t,e,n){"use strict";function r(t){function e(){c.root||(c.root=c.container.append("div").attr("class","label-group"),c.xAxisLabel=c.root.append("div").attr("class","axis-label x").attr("contentEditable",!0).on("blur",function(){s.call("axisLabelChange",this,{value:this.innerText,type:"x"})}).on("keypress",function(){"Enter"===a.event.key&&this.blur()}),c.yAxisLabel=c.root.append("div").attr("class","axis-label y").attr("contentEditable",!0).on("blur",function(){s.call("axisLabelChange",this,{value:this.innerText,type:"y"})}).on("keypress",function(){"Enter"===a.event.key&&this.blur()}),c.y2AxisLabel=c.root.append("div").attr("class","axis-label y2").attr("contentEditable",!0).on("blur",function(){s.call("axisLabelChange",this,{value:this.innerText,type:"y2"})}).on("keypress",function(){"Enter"===a.event.key&&this.blur()})),c.xAxisLabel.text(u.xLabel).style("max-width",u.chartWidth+"px").style("top",function(){var t=this.getBoundingClientRect().height||18;return u.height-t-18+"px"}).style("left",u.margin.left+u.chartWidth/2+"px"),c.yAxisLabel.text(u.yLabel).style("max-width",u.chartHeight+"px").style("top",u.margin.top+u.chartHeight/2+"px").style("left",function(){return this.getBoundingClientRect().width/2+4+"px"}),c.y2AxisLabel.text(u.y2Label).style("max-width",u.chartHeight+"px").style("top",u.margin.top+u.chartHeight/2+"px").style("left",function(){var t=this.getBoundingClientRect().width;return u.width-t/2-4+"px"})}function n(){return s.on.apply(s,arguments),this}function r(t){return u=Object(i.j)(u,t),this}function o(){return e(),this}function l(){return c.root&&(c.root.remove(),c.root=null),this}var u={margin:{top:60,right:30,bottom:40,left:70},width:800,height:500,xLabel:"",yLabel:"",y2Label:"",chartWidth:null,chartHeight:null},c={container:t,root:null,xAxisLabel:null,yAxisLabel:null,y2AxisLabel:null},s=a.dispatch("axisLabelChange");return{on:n,setConfig:r,render:o,destroy:l}}e.a=r;var a=n(0),i=n(1)},function(t,e,n){"use strict";function r(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}function a(){function t(t){var e=t;if(!t){var n=f.stringMinMaxLength;e=Math.round(Math.random()*(n[1]-n[0]))+n[0]}return[].concat(r(Array(e))).map(function(){return String.fromCharCode(Math.round(25*Math.random())+97)}).join("")}function e(t,e){var n=i.randomUniform.apply(i,r(e))(),a=(e[1]-e[0])/f.randomStepSize,o=i.randomNormal(0,1);return t.map(function(t){var r=f.nullRatio&&100*Math.random()/f.nullRatio<1;return n=Object(l.b)(n+o()*a,e),{value:r?null:n,key:"time"===f.keyType?t.toISOString():t}})}function n(){var n=null;if("time"===f.keyType){m.baseDate=new Date;var r=new Date(m.baseDate.getTime()-g*f.pointCount);n=i.timeDay.range(r,m.baseDate)}else"string"===f.keyType?(n=i.range(0,f.pointCount).map(function(){return t()}),n.sort(function(t,e){return t.localeCompare(e,"en",{numeric:!1})})):"number"===f.keyType&&(n=i.range(0,f.pointCount).map(function(t,e){return e}));var a=i.range(f.lineCount).map(function(t){return{label:"Label "+t,id:t,group:t<f.groupCount?t:0,values:e(n,f.range),measureName:"Measure "+t}});return m.data={series:a},m.data}function a(t){return new Date(new Date(t).toString())}function u(t,e,n,r){var u=Object(l.c)(t[o.h.SERIES]);u.forEach(function(t){t[o.h.VALUES].forEach(function(t){"time"===e&&(t[o.h.KEY]=a(t[o.h.KEY])),r&&(t[o.h.VALUE]=Number(t[o.h.VALUE]))})});var c=[],s=[];u.forEach(function(t){s=s.concat(t.values)}),s=s.map(function(t){return t.key}),s=Object(l.f)(s,e),u.forEach(function(t){var n={};t[o.h.VALUES].forEach(function(t){n[t.key]=t.value});var a=t[o.h.VALUES];r&&(a=s.map(function(t){return{key:t,value:void 0===n[t]?null:n[t]}})),t[o.h.VALUES]=Object(l.l)(a,e)}),u.forEach(function(t){t[o.h.VALUES].forEach(function(e){var n={};n[o.h.LABEL]=t[o.h.LABEL],n[o.h.GROUP]=t[o.h.GROUP],n[o.h.ID]=t[o.h.ID],n[o.h.KEY]=e[o.h.KEY],n[o.h.VALUE]=e[o.h.VALUE],c.push(n)})});var d=Object(l.l)(c,e),h=i.nest().key(y).entries(d).map(function(t){var n={};return n[o.h.KEY]="time"===e?new Date(t.key):t.key,n[o.h.SERIES]=t.values,n}),f={};u.forEach(function(t){f[t[o.h.GROUP]]||(f[t[o.h.GROUP]]=[]),f[t[o.h.GROUP]].push(t[o.h.ID])});var m=h.map(function(t){var e={key:t[o.h.KEY]};return t.series.forEach(function(t){e[t[o.h.ID]]=t[o.h.VALUE]}),e}),g=i.stack().keys(u.map(p)).value(function(t,e){return t[e]||0}).order(i.stackOrderNone).offset(i.stackOffsetNone),x=h.map(function(t){return{key:t[o.h.KEY],total:i.sum(t[o.h.SERIES].map(function(t){return t[o.h.VALUE]}))}});switch(n){case o.e.TOTAL_ASCENDING:x.sort(Object(l.a)("total"));break;case o.e.TOTAL_DESCENDING:x.sort(Object(l.d)("total"));break;case o.e.ALPHA_ASCENDING:x.sort(Object(l.a)("key"));break;case o.e.ALPHA_DESCENDING:x.sort(Object(l.d)("key"))}return{dataBySeries:u,dataByKey:h,stack:g,stackData:m,flatDataSorted:d,groupKeys:f,allKeyTotals:x}}function c(t,e,n,r){var a=Object(l.g)(n.xScale,t,r);if("string"===r)return e.dataByKey.find(function(t){return t[o.h.KEY]===a});var u=i.bisector(y).left,c=u(e.dataByKey,a),s=e.dataByKey[c],d=e.dataByKey[Math.max(c-1,0)],h=null;return a&&s&&d&&(h=a-d.key<s.key-a?d:s),h}function s(t){var e=Object(l.c)(m.data);return e[o.h.SERIES].forEach(function(e){var n=e[o.h.VALUES],r=n.map(function(t){return t[o.h.KEY]}),a=r.indexOf(t[0]),i=r.indexOf(t[1]);e[o.h.VALUES]=e[o.h.VALUES].slice(a,i)}),e}function d(t){var e=Object(l.c)(m.data);return e[o.h.SERIES].forEach(function(e){e[o.h.VALUES]=e[o.h.VALUES].filter(function(e){var n=new Date(e[o.h.KEY]).getTime();return n>=t[0].getTime()&&n<=t[1].getTime()})}),e}function h(t){return f=Object.assign({},f,t),this}var f={keyType:"number",range:[0,100],pointCount:200,groupCount:2,lineCount:4,stringMinMaxLength:[4,8],randomStepSize:50,nullRatio:null},m={data:null,baseDate:null},y=function(t){return t[o.h.KEY]},p=function(t){return t[o.h.ID]},g=864e5;return{generateTestDataset:n,generateSeries:e,cleanData:u,getNearestDataPoint:c,filterByDate:d,filterByKey:s,setConfig:h}}e.a=a;var i=n(0),o=n(2),l=n(1)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(0),a=n(17),i=n(4),o=n(7),l=n(14),u=n(24),c=n(10),s=n(11),d=n(12),h=n(13),f=n(8),m=n(9),y=n(3),p=n(5),g=n(25);n.d(e,"Chart",function(){return a.a}),n.d(e,"Tooltip",function(){return i.a}),n.d(e,"Legend",function(){return o.a}),n.d(e,"DataManager",function(){return l.a}),n.d(e,"Observer",function(){return u.a}),n.d(e,"Binning",function(){return c.a}),n.d(e,"DomainEditor",function(){return s.a}),n.d(e,"BrushRangeEditor",function(){return d.a}),n.d(e,"Label",function(){return h.a}),n.d(e,"Brush",function(){return f.a}),n.d(e,"Hover",function(){return m.a}),n.d(e,"Interactors",function(){return y.default}),n.d(e,"colors",function(){return p.a}),n.d(e,"d3",function(){return r}),n.d(e,"autoFormatter",function(){return g.a}),n(26)},function(e,n){e.exports=t},function(t,e,n){"use strict";function r(t){function e(){if(!P.root){var t=a.select(P.container).html(Y(H.chartType));P.root=t.select(".mapd3-container").style("position","relative"),P.svgWrapper=t.select(".svg-wrapper"),P.svg=t.select("svg.chart"),P.headerGroup=t.select(".header-group").style("position","absolute"),P.panel=P.svg.select(".panel-group"),P.chart=P.svg.select(".chart-group"),T(),C={scale:Object(c.a)(),axis:Object(h.a)(P.root),line:Object(s.a)(P.panel),bar:Object(d.a)(P.panel),tooltip:Object(f.a)(P.root),legend:Object(m.a)(P.root),brush:Object(y.a)(P.panel),hover:Object(p.a)(P.panel),binning:Object(g.a)(P.headerGroup),domainEditor:Object(x.a)(P.root),brushRangeEditor:Object(b.a)(P.headerGroup),label:Object(v.a)(P.root),clipPath:Object(S.a)(P.svg)},w={onBrush:Object(l.k)(C.brush),onHover:Object(l.k)(C.hover),onBinning:Object(l.k)(C.binning),onDomainEditor:Object(l.k)(C.domainEditor),onBrushRangeEditor:Object(l.k)(C.brushRangeEditor),onLabel:Object(l.k)(C.label),onPanel:Object(l.k)(B)}}return P.svgWrapper.style("flex","0 0 "+H.chartWidth+"px").style("height",H.height+"px"),P.svg.style("flex","0 0 "+H.markPanelWidth+"px").style("height",""+(H.chartHeight+H.margin.bottom)).attr("transform","translate(0,"+H.margin.top+")"),P.headerGroup.style("width",H.chartWidth+"px").style("left",H.margin.left+"px"),P.panel.select(".panel-background").style("width",H.markPanelWidth+"px").style("height",H.chartHeight+"px").attr("fill","transparent"),this}function n(){return R=C.scale.setConfig(H).setData(j).getScales(),C.clipPath.setConfig(H).render(),C.axis.setConfig(H).setScales(R).render(),C.bar.setConfig(H).setScales(R).setData(j).render(),C.line.setConfig(H).setScales(R).setData(j).render(),C.tooltip.setConfig(H).setScales(R).bindEvents(B),C.legend.setConfig(H).setScales(R).setData(j),C.brush.setConfig(H).setScales(R).setData(j).render(),C.hover.setConfig(H).setScales(R).setData(j).bindEvents(B),C.binning.setConfig(H).render(),C.domainEditor.setConfig(H).setScales(R).render(),C.brushRangeEditor.setConfig(H).setScales(R).render(),C.label.setConfig(H).render(),E(),this}function r(t){j.data=Object(l.c)(t[o.h.SERIES]);var e=N.cleanData(t,H.keyType,H.sortBy,H.fillData);Object.assign(j,e);var n=Object(u.a)(I,P,j);return H=Object.assign({},I,n),M(),this}function E(){H.isAnimated&&(P.maskingRectangle=P.svg.select(".masking-rectangle").attr("width",P.chartWidth-2).attr("height",P.chartHeight).attr("x",H.margin.left+1).attr("y",H.margin.top),P.maskingRectangle.transition().duration(H.animationDuration).ease(H.ease).attr("width",0).attr("x",H.width-H.margin.right).on("end",function(){return P.maskingRectangle.remove()}))}function T(){var t=Object(l.n)(function(){B.call.apply(B,arguments)},20);P.panel.on("mouseover.dispatch",function(){B.call("mouseOverPanel",null,a.mouse(P.panel.node()))}).on("mouseout.dispatch",function(){B.call("mouseOutPanel",null,a.mouse(P.panel.node()))}).on("mousemove.dispatch",function(){var e=a.mouse(P.panel.node()),n=A(e,2),r=n[0],i=n[1],l=a.mouse(P.svgWrapper.node()),u=A(l,1),c=u[0];if(j.data){var s=r,d=N.getNearestDataPoint(s,j,R,H.keyType);if(d){var h=R.xScale(d[o.h.KEY]);t("mouseMovePanel",null,d,h,i,c)}}}).on("click.dispatch",function(){var e=a.mouse(P.panel.node()),n=A(e,1),r=n[0];if(j.data){var i=r,o=N.getNearestDataPoint(i,j,R,H.keyType);o&&t("mouseClickPanel",null,o)}})}function O(){return P.root||M(),w}function D(){return B.on.apply(B,arguments),this}function L(t){I=Object(l.j)(I,t);var e=Object(u.a)(I,P,j);return H=Object.assign({},I,e),this}function M(){return e(),j.dataBySeries&&n(),this}function F(){P.root&&P.root.on(".",null).remove()}var I={margin:{top:48,right:32,bottom:48,left:32},width:800,height:500,keyType:"time",chartId:Object(l.o)(),chartType:"line",extractType:null,ease:a.easeLinear,useScrolling:!1,isAnimated:!1,animationDuration:1500,colorSchema:i.a.mapdColors.map(function(t){return{value:t}}),defaultColor:"skyblue",xDomain:"auto",yDomain:"auto",y2Domain:"auto",tickPadding:5,xAxisFormat:"auto",yAxisFormat:".2f",y2AxisFormat:".2f",tickSizes:8,yTicks:"auto",y2Ticks:"auto",xTickSkip:0,grid:null,axisTransitionDuration:0,labelsAreRotated:"auto",sortBy:null,fillData:!1,dotRadius:4,tooltipFormat:".2f",tooltipTitleFormat:null,mouseChaseDuration:0,tooltipEase:a.easeQuadInOut,tooltipHeight:48,tooltipWidth:160,tooltipIsEnabled:!0,tooltipTitle:null,dateFormat:"%b %d, %Y",inputDateFormat:"%m-%d-%Y",numberFormat:".2f",legendXPosition:"auto",legendYPosition:"auto",legendTitle:"",legendIsEnabled:!0,binningResolution:"1mo",binningIsAuto:!0,binningToggles:["10y","1y","1q","1mo"],binningIsEnabled:!0,xLock:!1,yLock:!1,y2Lock:!1,xDomainEditorIsEnabled:!0,yDomainEditorIsEnabled:!0,y2DomainEditorIsEnabled:!0,brushRangeMin:null,brushRangeMax:null,brushRangeIsEnabled:!0,brushIsEnabled:!0,xLabel:"",yLabel:"",y2Label:"",barSpacingPercent:10,selectedKeys:[],dotsToShow:"none"},R={xScale:null,yScale:null,y2Scale:null,hasSecondAxis:null,colorScale:null},P={container:t,svg:null,panel:null,margin:null,maskingRectangle:null,width:null,height:null,chartWidth:null,chartHeight:null,xAxis:null,yAxis:null,yAxis2:null},j={dataBySeries:null,dataByKey:null,data:null,groupKeys:{},hasSecondAxis:!1,stackData:null,stack:null,flatDataSorted:null,allKeyTotals:null},C={},w={},H=null;L(I);var B=a.dispatch("mouseOverPanel","mouseOutPanel","mouseMovePanel","mouseClickPanel"),N=Object(k.a)(),Y=function(t){var e=function(e){switch(t){case"bar":case"stackedBar":return"bar";case"line":case"stackedArea":return"line";case Array.isArray(e):return"combo";default:return""}}(t);return'<div class="mapd3 mapd3-container '+e+'">\n        <div class="header-group"></div>\n        <div class="y-axis-container">\n          <svg>\n            <g class="axis-group"></g>\n          </svg>\n        </div>\n        <div class="svg-wrapper">\n          <svg class="chart '+e+'">\n            <g class="chart-group"></g>\n            <g class="panel-group">\n              <rect class="panel-background"></rect>\n            </g>\n            <rect class="masking-rectangle"></rect>\n          </svg>\n        </div>\n        <div class="y2-axis-container">\n          <svg>\n            <g class="axis-group"></g>\n          </svg>\n        </div>\n      </div>'};return{render:M,setConfig:L,setData:r,on:D,destroy:F,getEvents:O}}e.a=r;var a=n(0),i=n(5),o=n(2),l=n(1),u=n(18),c=n(19),s=n(20),d=n(21),h=n(22),f=n(4),m=n(7),y=n(8),p=n(9),g=n(10),x=n(11),b=n(12),v=n(13),k=n(14),S=n(23),A=function(){function t(t,e){var n=[],r=!0,a=!1,i=void 0;try{for(var o,l=t[Symbol.iterator]();!(r=(o=l.next()).done)&&(n.push(o.value),!e||n.length!==e);r=!0);}catch(t){a=!0,i=t}finally{try{!r&&l.return&&l.return()}finally{if(a)throw i}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}()},function(t,e,n){"use strict";function r(t,e){var n={};if(n.chartWidth=Math.max(t.width-t.margin.left-t.margin.right,0),n.chartHeight=Math.max(t.height-t.margin.top-t.margin.bottom,0),n.markPanelWidth=n.chartWidth,e){var r=e&&e.allKeyTotals&&e.allKeyTotals.length||0,a=t.useScrolling?i.c:0,l=r*a;n.markPanelWidth=n.chartWidth<l?l:n.chartWidth,n.markWidth=n.markPanelWidth/r,n.markWidth=Object(o.b)(n.markWidth,[a,i.b])}return n}function a(t,e,n){var a={};"auto"===t.width&&e.container&&(a.width=e.container&&e.container.clientWidth||0),"auto"===t.height&&e.container&&(a.height=e.container&&e.container.clientHeight||0);var i=r(l({},t,a),n);return l({},a,i)}e.a=a;var i=n(2),o=n(1),l=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}},function(t,e,n){"use strict";function r(){function t(t){var e=null,n=null;"time"===p.keyType?e=a.scaleTime():"number"===p.keyType?e=a.scaleLinear():(e=a.scalePoint(),e.padding(0)),n="auto"===p.xDomain?"string"===p.keyType?t:"number"===p.keyType?a.extent(t.map(function(t){return Number(t)})):a.extent(t):p.xDomain;var r=p.markWidth?p.markWidth/2:0;return e.domain(n).range([r,p.markPanelWidth-r]),e}function e(t){return a.scaleLinear().domain(t).rangeRound([p.chartHeight,0])}function n(){var t=g.dataBySeries.map(x);return a.scaleOrdinal().range(p.colorSchema.map(function(t){return t.value})).domain(p.colorSchema.map(function(e,n){return void 0===e.id?t[n]:e.id})).unknown(p.defaultColor)}function r(){var t=g.dataBySeries.map(x);return a.scaleOrdinal().range(p.colorSchema.map(function(t){return t.style})).domain(p.colorSchema.map(function(e,n){return e.id||t[n]})).unknown("solid")}function l(){return function(t){if("x"===t)return g.data[0].dimensionName;if("y"===t){var e=g.groupKeys[i.a][0];return g.dataBySeries[e].measureName}if("y2"===t){var n=g.groupKeys[i.d][0];return g.dataBySeries[n].measureName}return g.dataBySeries[t]&&g.dataBySeries[t].measureName}}function u(){var t=g.dataBySeries.map(x);return a.scaleOrdinal().range(p.colorSchema.map(function(t){return t.type})).domain(p.colorSchema.map(function(e,n){return e.id||t[n]})).unknown("line")}function c(){var t={};return g.dataBySeries.forEach(function(e){var n=e[i.h.GROUP];t[n]||(t[n]={allValues:[],allKeys:[]}),t[n].allValues=t[n].allValues.concat(e[i.h.VALUES].map(v)),t[n].allKeys=t[n].allKeys.concat(e[i.h.VALUES].map(b))}),t}function s(){var i=g.dataByKey.map(function(t){return a.sum(t.series.map(function(t){return t.value}))}),o=g.allKeyTotals.map(b),c=t(o),s=n(),d=r(),h=u(),f=l(),m=null;if("auto"===p.yDomain){m=[0,a.extent(i)[1]]}else m=p.yDomain;return{xScale:c,yScale:e(m),colorScale:s,styleScale:d,chartTypeScale:h,measureNameLookup:f}}function d(t){return void 0===t[0]||void 0===t[1]?[0,0]:t}function h(){var o=c(),s=Object.keys(o)||[],h=g.allKeyTotals.map(b),f=s.indexOf(i.a)>-1,m=s.indexOf(i.d)>-1,y=t(h),x=n(),v=r(),k=u(),S=l(),A=null;if(f){var E=null;if("auto"===p.yDomain){var T=o[i.a];E=a.extent(T.allValues)}else E=p.yDomain;A=e(d(E))}var O=null;if(m){var D=null;if("auto"===p.y2Domain){var L=o[i.d];D=a.extent(L.allValues)}else D=p.y2Domain;O=e(D)}return{hasSecondAxis:m,xScale:y,yScale:A,y2Scale:O,colorScale:x,styleScale:v,chartTypeScale:k,measureNameLookup:S}}function f(){return"stackedBar"===p.chartType||"stackedArea"===p.chartType?s():h()}function m(t){return p=Object(o.j)(p,t),this}function y(t){return g=Object.assign({},g,t),this}var p={keyType:null,chartType:null,colorSchema:null,defaultColor:null,xDomain:"auto",yDomain:"auto",y2Domain:"auto",chartWidth:null,chartHeight:null,markPanelWidth:null,markWidth:null},g={dataByKey:null,dataBySeries:null,flatDataSorted:null,groupKeys:null,allKeyTotals:null},x=function(t){return t[i.h.ID]},b=function(t){return t[i.h.KEY]},v=function(t){return t[i.h.VALUE]};return{setConfig:m,setData:y,getScales:f}}e.a=r;var a=n(0),i=n(2),o=n(1)},function(t,e,n){"use strict";function r(t){function e(){k.root||(k.root=k.container.append("g").classed("mark-group",!0))}function n(t){return void 0!==t[i.h.VALUE]&&null!==t[i.h.VALUE]}function r(t){return t[i.h.KEY]>=b.xDomain[0]&&t[i.h.KEY]<=b.xDomain[1]}function u(){var t=a.line().x(function(t){return v.xScale(t[i.h.KEY])}).y(function(t){return v.yScale(t[i.h.VALUE])}).defined(n),e=a.line().x(function(t){return v.xScale(t[i.h.KEY])}).y(function(t){return v.y2Scale(t[i.h.VALUE])}).defined(n);Array.isArray(b.xDomain)&&(t.defined(function(t){return n(t)||r(t)}),e.defined(function(t){return n(t)||r(t)}));var o=S.dataBySeries;Array.isArray(b.chartType)&&(o=o.filter(function(t,e){return"line"===b.chartType[e]}));var l=k.root.selectAll(".mark.line").data(o);l.enter().append("path").merge(l).attr("class","mark line").attr("clip-path","url(#mark-clip-"+b.chartId+")").classed("y2-line",function(t){return t[i.h.GROUP]>0}).attr("d",function(n){return 0===n[i.h.GROUP]?t(n[i.h.VALUES]):e(n[i.h.VALUES])}).style("stroke",A).style("fill","none").attr("stroke-dasharray",function(t){var e=v.styleScale(t[i.h.ID]);return i.f[e]}),l.exit().remove()}function c(t){return t.map(function(t){return l({},t,{values:t.values.filter(function(t){return null!==t.value})})})}function s(t){return t.map(function(t){return l({},t,{values:t.values.filter(function(t,e,n){var r=Math.max(e-1,0),a=Math.min(e+1,n.length-1);return null!==t.value&&null===n[r].value&&null===n[a].value})})})}function d(){var t=S.dataBySeries,e=t;if(Array.isArray(b.chartType)&&(e=t.filter(function(t,e){return"line"===b.chartType[e]})),b.dotsToShow===i.g.ALL)e=c(e);else if(b.dotsToShow===i.g.ISOLATED)e=s(e);else if(b.dotsToShow===i.g.NONE)return k.root.selectAll(".dot-group").remove(),null;var n=k.root.selectAll(".dot-group").data(e),r=n.enter().append("g").merge(n).attr("class","dot-group").attr("clip-path","url(#mark-clip-"+b.chartId+")");n.exit().remove();var a=r.selectAll(".mark.dot").data(function(t){return t.values.map(function(e){return{value:e[i.h.VALUE],group:t[i.h.ID],key:e[i.h.KEY],id:t[i.h.ID]}})});return a.enter().append("circle").merge(a).attr("class","mark dot").attr("cx",function(t){return v.xScale(t.key)}).attr("cy",function(t){var e=S.groupKeys[i.a];return e&&e.indexOf(t.group)>-1?v.yScale(t.value):v.y2Scale?v.y2Scale(t.value):v.yScale(t.value)}).attr("r",2).style("fill",A),a.exit().remove(),this}function h(){var t=a.area().x(function(t){return v.xScale(t[i.h.KEY])}).y0(function(t){return v.yScale(t[i.h.VALUE])}).y1(function(){return b.chartHeight}).defined(n),e=a.area().x(function(t){return v.xScale(t[i.h.KEY])}).y0(function(t){return v.y2Scale(t[i.h.VALUE])}).y1(function(){return b.chartHeight}).curve(a.curveCatmullRom).defined(n),r=k.root.selectAll(".mark.area").data(S.dataBySeries);r.enter().append("path").merge(r).attr("class","mark area").attr("clip-path","url(#mark-clip-"+b.chartId+")").classed("y2-area",function(t){return t[i.h.GROUP]>0}).attr("d",function(n){return 0===n[i.h.GROUP]?t(n[i.h.VALUES]):e(n[i.h.VALUES])}).style("stroke",A).style("fill",A),r.exit().remove()}function f(){var t=a.area().x(function(t){return v.xScale(t.data[i.h.KEY])}).y0(function(t){return v.yScale(t[0])}).y1(function(t){return v.yScale(t[1])}),e=k.root.selectAll(".mark").data(S.stack(S.stackData));e.enter().append("path").merge(e).attr("class","mark stacked-area").attr("clip-path","url(#mark-clip-"+b.chartId+")").attr("d",t).style("stroke","none").style("fill",function(t){return v.colorScale(t.key)}),e.exit().remove()}function m(t){return b=Object(o.j)(b,t),this}function y(t){return v=Object(o.j)(v,t),this}function p(t){return S=Object.assign({},S,t),this}function g(){e(),"area"===b.chartType?h():"line"===b.chartType||Array.isArray(b.chartType)?(u(),d()):"stackedArea"===b.chartType&&f()}function x(){return k.root&&(k.root.remove(),k.root=null),this}var b={chartId:null,chartType:null,colorSchema:["skyblue"],xDomain:"auto",dotsToShow:"none",chartHeight:null},v={colorScale:null,styleScale:null,chartTypeScale:null,xScale:null,yScale:null,y2Scale:null},k={container:t,svg:null},S={dataBySeries:null,groupKeys:null,stack:null,stackData:null},A=function(t){return v.colorScale(t[i.h.ID])};return{setConfig:m,setScales:y,setData:p,render:g,destroy:x}}e.a=r;var a=n(0),i=n(2),o=n(1),l=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}},function(t,e,n){"use strict";function r(t){function e(){m.root||(m.root=m.container.append("g").classed("mark-group",!0))}function n(){var t=y.dataByKey&&y.dataByKey.length||1,e=[];Array.isArray(h.chartType)?e=y.dataBySeries.filter(function(t,e){return"bar"===h.chartType[e]}):"bar"!==h.chartType&&"groupedBar"!==h.chartType||(e=y.dataBySeries);var n=e.length,r=t?h.markPanelWidth/t:0,i=r/100*h.barSpacingPercent,o=n?(r-i)/n:0,l=m.root.selectAll(".bar-layer").data(e),u=l.enter().append("g").attr("class","bar-layer").merge(l);l.exit().remove();var c=u.selectAll(".mark").data(function(t,e){return t.values.map(function(n){var r=Object.assign({},n);return r.id=t[a.h.ID],r.group=t[a.h.GROUP],r.index=e,r})});c.enter().append("rect").attr("class","mark bar").attr("clip-path","url(#mark-clip-"+h.chartId+")").merge(c).attr("x",function(t){if("groupedBar"===h.chartType||e.length>1){var n=f.xScale(t[a.h.KEY])-r/2+o*t.index+i/2;return Math.max(n,0)}return Math.max(f.xScale(t[a.h.KEY])-h.markWidth/2,0)}).attr("y",function(t){return 0===t[a.h.GROUP]?Math.min(f.yScale(t[a.h.VALUE]),h.chartHeight-p):Math.min(f.y2Scale(t[a.h.VALUE]),h.chartHeight-p)}).attr("width",function(){return"groupedBar"===h.chartType||e.length>1?o:h.markWidth}).attr("height",function(t){return 0===t[a.h.GROUP]?Math.max(h.chartHeight-f.yScale(t[a.h.VALUE]),p):Math.max(h.chartHeight-f.y2Scale(t[a.h.VALUE]),p)}).style("stroke","white").style("fill",g),c.exit().remove()}function r(){var t=y.stack(y.stackData),e=h.markWidth/100*h.barSpacingPercent,n=m.root.selectAll(".bar-group").data(t),r=n.enter().append("g").attr("class","bar-group").merge(n).attr("stroke","white");n.exit().remove();var i=r.selectAll(".mark").data(function(t,e,n){return t.map(function(t){return o({},t,{id:n[e].__data__.key})})});i.enter().append("rect").attr("class","mark bar").attr("clip-path","url(#mark-clip-"+h.chartId+")").merge(i).attr("x",function(t){return f.xScale(t.data[a.h.KEY])-h.markWidth/2+e/2}).attr("y",function(t){return f.yScale(t[1])}).attr("height",function(t){return Math.max(f.yScale(t[0])-f.yScale(t[1]),p)}).attr("width",h.markWidth-e).attr("fill",g),i.exit().remove()}function l(t){return h=Object(i.j)(h,t),this}function u(t){return f=Object(i.j)(f,t),this}function c(t){return y=Object.assign({},y,t),this}function s(){e(),"stackedBar"===h.chartType?r():n()}function d(){m.root&&(m.root.remove(),m.root=null)}var h={margin:{top:60,right:30,bottom:40,left:0},width:800,height:500,chartId:null,chartType:null,barSpacingPercent:10,markWidth:null,chartWidth:null,chartHeight:null,markPanelWidth:null,selectedKeys:[]},f={colorScale:null,chartTypeScale:null,xScale:null,yScale:null,y2Scale:null},m={container:t,svg:null},y={dataBySeries:null,groupKeys:null,stack:null,stackData:null},p=1,g=function(t){var e=t.data&&t.data.key;return e&&Array.isArray(h.selectedKeys)&&h.selectedKeys.length?h.selectedKeys.indexOf(e)>-1?f.colorScale(t.id):"silver":f.colorScale(t.id)};return{setConfig:l,setScales:u,setData:c,render:s,destroy:d}}e.a=r;var a=n(2),i=n(1),o=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}},function(t,e,n){"use strict";function r(t){function e(){A.root||(A.root=A.container.select("svg.chart > g.chart-group"),A.xAxisRoot=A.root.append("g").classed("axis-group",!0).style("pointer-events","none"),A.xAxisRoot.append("g").attr("class","grid-lines-group"),A.xAxisRoot.append("g").attr("class","axis x"),A.yAxisRoot=A.container.select(".y-axis-container > svg"),A.y2AxisRoot=A.container.select(".y2-axis-container > svg"),A.yAxisRoot.select(".axis-group").append("g").attr("class","axis y"),A.y2AxisRoot.select(".axis-group").append("g").attr("class","axis y2")),A.xLabelsShouldRotate=d();A.yAxisRoot.attr("width",k.margin.left).attr("height",k.chartHeight+k.margin.top+k.margin.bottom).select(".axis-group").attr("transform","translate("+(k.margin.left-1)+", "+k.margin.top+")"),A.y2AxisRoot.attr("width",k.margin.left).attr("height",k.chartHeight+k.margin.top+k.margin.bottom).select(".axis-group").attr("transform","translate(0, "+k.margin.top+")")}function n(){if("function"==typeof k.xAxisFormat){var t=S.measureNameLookup("x");k.xAxisFormat(null,t)&&A.xAxis.tickFormat(function(e){return k.xAxisFormat(e,t)})}else if("time"===k.keyType)if(k.xAxisFormat&&"auto"!==k.xAxisFormat){var e=a.utcFormat(k.xAxisFormat);A.xAxis.tickFormat(e)}else A.xAxis.tickFormat(o.f);else if("string"===k.keyType){var n=k.xTickSkip;"auto"===k.xTickSkip&&(n=m()),A.xAxis.tickValues(S.xScale.domain().filter(function(t,e){return!(e%n)}))}else if("number"===k.keyType)if(k.extractType){var r=Object(o.e)(k.extractType);A.xAxis.tickFormat(r)}else if(k.xAxisFormat&&"auto"!==k.xAxisFormat){var i=a.format(k.xAxisFormat);A.xAxis.tickFormat(i)}}function r(){var t="auto"===k.yDomain?S.yScale.domain():k.yDomain,e=Object(o.a)(t,k.numberFormat);return a.format(e)}function l(t){if(S.yScale)if("function"==typeof k.yAxisFormat){var e=S.measureNameLookup("y"),n=k.yAxisFormat(null,e);n?t.tickFormat(function(t){return k.yAxisFormat(t,e)}):t.tickFormat(r())}else"auto"===k.yAxisFormat?t.tickFormat(r()):"string"==typeof k.yAxisFormat?t.tickFormat(a.format(k.yAxisFormat)):Array.isArray(k.yAxisFormat)&&t.tickFormat(a.format(k.yAxisFormat[0]))}function u(){var t="auto"===k.y2Domain?S.y2Scale.domain():k.y2Domain,e=Object(o.a)(t,k.numberFormat);return a.format(e)}function c(t){if(S.y2Scale)if("function"==typeof k.y2AxisFormat){var e=S.measureNameLookup("y2");if(e){var n=k.y2AxisFormat(null,e);n?t.tickFormat(function(t){return k.y2AxisFormat(t,e)}):t.tickFormat(u())}else t.tickFormat(function(t){return k.y2AxisFormat(t)})}else"auto"===k.y2AxisFormat?t.tickFormat(u()):"string"==typeof k.y2AxisFormat?t.tickFormat(a.format(k.y2AxisFormat)):Array.isArray(k.y2AxisFormat)&&t.tickFormat(a.format(k.y2AxisFormat[0]))}function s(){A.xAxis=a.axisBottom(S.xScale).tickSize(k.tickSizes,0).tickPadding(k.tickPadding).tickSizeOuter(0),n(),S.yScale&&(A.yAxis=a.axisLeft(S.yScale).tickSize([k.tickSizes]).tickPadding(k.tickPadding).tickSizeOuter(0),l(A.yAxis),Number.isInteger(k.yTicks)?A.yAxis.ticks(k.yTicks):A.yAxis.ticks(Math.ceil(k.chartHeight/k.tickSpacing))),S.hasSecondAxis&&(A.y2Axis=a.axisRight(S.y2Scale).tickSize([k.tickSizes]).tickPadding(k.tickPadding).tickSizeOuter(0),c(A.y2Axis),isNaN(k.y2Ticks)||A.y2Axis.ticks(k.y2Ticks))}function d(){var t=k.markPanelWidth;return S.xScale.domain().reduce(function(t,e){return t+e.length*E+T*E},0)>=t}function h(){return A.xAxisRoot.select(".axis.x").selectAll("text").attr("y",O.ROTATED_YPOS).attr("x",O.ROTATED_XPOS).attr("dy",O.ROTATED_DY).attr("transform",O.ROTATED_TRANSFORM).style("text-anchor",O.ROTATED_ANCHOR),this}function f(){A.xAxisRoot.select(".axis.x").selectAll("text").attr("x",O.DEFAULT_XPOS).attr("y",O.DEFAULT_YPOS).attr("dy",O.DEFAULT_DY).attr("transform",O.DEFAULT_TRANSFORM).style("text-anchor",O.DEFAULT_ANCHOR)}function m(){var t=S.xScale.domain(),e=null;if(!0===k.labelsAreRotated||"auto"===k.labelsAreRotated&&d())e=E;else{e=t.reduce(function(t,e){return e.length>t.length?e:t},{length:0}).length*E}return Math.ceil(e/(k.markPanelWidth/t.length))}function y(){return A.xAxisRoot.select(".axis.x").attr("transform","translate(0, "+k.chartHeight+")").call(A.xAxis),!0===k.labelsAreRotated||"auto"===k.labelsAreRotated&&A.xLabelsShouldRotate?h():"auto"!==k.labelsAreRotated||A.xLabelsShouldRotate||f(),S.yScale?A.yAxisRoot.select(".axis.y").transition().duration(k.axisTransitionDuration).ease(k.ease).call(A.yAxis):A.yAxisRoot.select(".axis.y").selectAll("*").remove(),S.y2Scale?A.y2AxisRoot.select(".axis.y2").transition().duration(k.axisTransitionDuration).ease(k.ease).call(A.y2Axis):A.y2AxisRoot.select(".axis.y2").selectAll("*").remove(),this}function p(){if("horizontal"===k.grid||"full"===k.grid){var t=null;t=Number.isInteger(k.yTicks)?k.yTicks:Math.ceil(k.chartHeight/k.tickSpacing),S.yScale?(A.horizontalGridLines=A.xAxisRoot.select(".grid-lines-group").selectAll("line.horizontal-grid-line").data(S.yScale.ticks(t)),A.horizontalGridLines.enter().append("line").attr("class","horizontal-grid-line").merge(A.horizontalGridLines).transition().duration(k.axisTransitionDuration).attr("x2",k.markPanelWidth).attr("y1",S.yScale).attr("y2",S.yScale),A.horizontalGridLines.exit().remove()):A.horizontalGridLines&&A.horizontalGridLines.selectAll("*").remove()}return"vertical"!==k.grid&&"full"!==k.grid||(A.verticalGridLines=A.xAxisRoot.select(".grid-lines-group").selectAll("line.vertical-grid-line").data(A.xAxis.tickValues()),A.verticalGridLines.enter().append("line").attr("class","vertical-grid-line").merge(A.verticalGridLines).transition().duration(k.axisTransitionDuration).attr("y1",0).attr("y2",k.chartHeight).attr("x1",S.xScale).attr("x2",S.xScale),A.verticalGridLines.exit().remove()),this}function g(t){return k=Object(i.j)(k,t),this}function x(t){return S=Object(i.j)(S,t),this}function b(){e(),s(),y(),p()}function v(){A.xAxisRoot&&(A.xAxisRoot.remove(),A.xAxisRoot=null),A.yAxisRoot&&(A.yAxisRoot.remove(),A.yAxisRoot=null),A.y2AxisRoot&&(A.y2AxisRoot.remove(),A.y2AxisRoot=null)}var k={margin:{top:60,right:30,bottom:40,left:70},width:800,height:500,tickSizes:null,tickPadding:null,xAxisFormat:null,yAxisFormat:null,y2AxisFormat:null,keyType:null,yTicks:null,y2Ticks:null,xTickSkip:null,axisTransitionDuration:null,ease:null,grid:null,hoverZoneSize:30,tickSpacing:40,numberFormat:".2f",extractType:null,yDomain:"auto",y2Domain:"auto",labelsAreRotated:!1,chartWidth:null,chartHeight:null,markPanelWidth:null},S={xScale:null,yScale:null,y2Scale:null,hasSecondAxis:null,measureNameLookup:null},A={container:t,root:null,xAxisRoot:null,yAxisRoot:null,y2AxisRoot:null,background:null,xAxis:null,yAxis:null,y2Axis:null,horizontalGridLines:null,verticalGridLines:null,xLabelsShouldRotate:!1},E=5,T=2,O={DEFAULT_XPOS:0,DEFAULT_YPOS:11,DEFAULT_DY:".71em",DEFAULT_TRANSFORM:null,DEFAULT_ANCHOR:"middle",ROTATED_XPOS:9,ROTATED_YPOS:0,ROTATED_DY:".35em",ROTATED_TRANSFORM:"rotate(90)",ROTATED_ANCHOR:"start"};return{setConfig:g,setScales:x,render:b,destroy:v}}e.a=r;var a=n(0),i=n(1),o=n(6)},function(t,e,n){"use strict";function r(t){function e(){o.clipPath||(o.clipPath=o.container.append("defs").append("clipPath").attr("id","mark-clip-"+i.chartId).append("rect"));o.clipPath.attr("width",i.markPanelWidth).attr("height",i.chartHeight+4)}function n(t){return i=Object(a.j)(i,t),this}function r(){e()}var i={margin:{top:60,right:30,bottom:40,left:70},width:800,height:500,chartId:null,markPanelWidth:null,chartHeight:null},o={container:t,clipPath:null};return{setConfig:n,render:r}}e.a=r;var a=n(1)},function(t,e,n){"use strict";function r(t){function e(){return r.on.apply(r,arguments),this}function n(t){for(var e=arguments.length,n=Array(e>1?e-1:0),a=1;a<e;a++)n[a-1]=arguments[a];return r.call.apply(r,[t,this].concat(n)),this}var r=a.dispatch("brushChange","dataFilter"),i=t;return r.on("brushChange.observer",function(t,e){n("dataFilter","time"===e.keyType?i.filterByDate(t):i.filterByKey(t))}),{sub:e,pub:n}}e.a=r;var a=n(0)},function(t,e,n){"use strict";function r(t,e){try{return y.format(t)(e)}catch(n){return console.warn("Invalid format",t),e}}function a(t,e){if(2!==t.length||!p[t[1]])return e;try{return y.formatPrefix(t[0],p[t[1]])(e)}catch(n){return console.warn("Invalid format",t),e}}function i(t,e){var n=t.split(/[{}]/),a=n[1],i=r(a,e);return""+n[0]+i+n[2]}function o(t,e){return a(t.split("|"),e)}function l(t,e){return/[{}]/.test(t)?i(t,e):/\|/.test(t)?o(t,e):r(t,e)}function u(t,e){return y.timeFormat(t)(e)!==t}function c(t,e){return u(t,e)?y.timeFormat(t)(e):String(e)}function s(t,e){return c(t,e)}function d(t,e){return"number"==typeof e?l(t,e):e instanceof Date?s(t,e):String(e)}function h(t,e){if(Array.isArray(t)){var n=t.filter(function(t){return t.key===e})[0];return n&&n.format?n.format:null}return null}function f(t,e){return Array.isArray(t)?Boolean(h(t,e)):Boolean(t)}function m(t){if(!t||Array.isArray(t)&&0===t.length)return null;var e=t;return function(t,n){var r=void 0!==n;if(r&&!f(e,n))return null;var a=e;return Array.isArray(e)&&(a=r?h(e,n):e[0]&&e[0].format),Array.isArray(t)?t.map(function(t){return d(a,t)}).join(" - "):d(a,t)}}e.a=m;var y=n(0),p={k:Math.pow(10,3),K:Math.pow(10,3),m:Math.pow(10,6),M:Math.pow(10,6),g:Math.pow(10,9),G:Math.pow(10,9),t:Math.pow(10,12),T:Math.pow(10,12)}},function(t,e){}])});